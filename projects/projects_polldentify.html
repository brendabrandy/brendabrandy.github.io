<!DOCTYPE HTML>
<html>
<head>
		<div id="header"></div>
		<meta name="viewport" content="width=device=width,initial-scale=1.0">
		<link href="../bootstrap-3.3.2-dist/css/bootstrap.min.css" rel="stylesheet">
		<script src = "http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body data-spy="scroll" data-target="#myScrollspy" data-offset="20">
	<div id = "menu"></div>

	<div class = "container" style = "margin-bottomw:30px">

		<h1 style = "color: black; text-align : center"> POLLDENTIFY </h1>
		<hr>

		<div class = "row">

			<nav class = "col-sm-3" id = "myScrollSpy">

				<ul class="nav nav-pills nav-stacked">
					<li><a href="#objective">Objective</a></li>
	          		<li><a href="#introduction">Introduction</a></li>
	          		<li><a href="#webCrawl">Web Crawling for information</a></li>
	          		<li><a href="#organize">Organizing the data</a></li>
	          		<li><a href="#algorithm">Developing the Algorithm</a></li>
	          		<li><a href="#machine">Machine Learning</a></li>
	          		<li><a href="#results">Results</a></li>
	          		<li><a href="#nextsteps">Next Steps</a></li>
        		</ul>
      		</nav>

			<div class = "col-sm-9">


				<div id = "objective">

					<h3>Objective </h3>
					<p> To create a super smart web app that traces the historical and current sources of pollution for a given geographical location using US wind and pollution data  </p>

				</div>

				<div id = "introduction">

					<h3>Introduction </h3>
					<p> Air pollution has been a topic of debate and discussion ever since the 1990s. As people become more and more aware of their actions to the environment, they are also becoming more vigilante about the air that they breathe in. We often refer to weather reports for a better understanding of the air quality and the concentration of pollutants. For future research purposes, all these pollutant information are well-recorded in some databse in the US government along with other weather details in the past 20 years. </p>

					<p></p>

					<p>
					POLLDENTIFY aims to analyze these pollutant records from weather stations to generate new insights about the air around us. Through using the <a href="https://en.wikipedia.org/wiki/Atmospheric_dispersion_modeling#Gaussian_air_pollutant_dispersion_equation"> Gaussian Dispersion Model </a> -- a model commonly used by national weather stations for weather forecasting and by other government agencies for decision making -- we analyzed 137 sample points in the United States to track the source of pollution on each sample point monthly for the past 15 years. We gathered and processed approximately one hundred thousand sample points in total.
					</p>

<img  height="600" width="900" src = "https://maps.googleapis.com/maps/api/staticmap?center=Kansas,USA&scale=2&zoom=4&size=900x600&maptype=roadmap&markers=color:blue&markers=size:tiny%7Clabel:S%7C25.0,-97.5%7C25.0,-100%7C27.5,-82.5%7C27.5,-97.5%7C27.5,-100.0%7C27.5,-105.0%7C30.0,-82.5
%7C30.0,-85%7C30.0,-87.5%7C30.0,-90%7C30.0,-92.5%7C30.0,-95%7C30.0,-97.5%7C30.0,-100%7C30.0,-105.0%7C30.0,-107.5%7C30.0,-110.0
%7C30.0,-112.5%7C30.0,-115%7C32.5,-80%7C32.5,-82.5%7C32.5,-85%7C32.5,-87.5%7C32.5,-90%7C32.5,-92.5%7C32.5,-95%7C32.5,-97.5
%7C32.5,-100%7C32.5,-102.5%7C32.5,-105%7C32.5,-107.5%7C32.5,-110%7C32.5,-112.5%7C32.5,-115%7C35,-77.5%7C35,-80%7C35,-82.5
%7C35,-85%7C35,-87.5%7C35,-90%7C35,-92.5%7C35,-95%7C35,-97.5%7C35,-100%7C35,-102.5%7C35,-105%7C35,-107.5%7C35,-110%7C35,-112.5
%7C35,-115%7C35,-117.5%7C35,-120%7C37.5,-77.5%7C37.5,-80%7C37.5,-82.5%7C37.5,-85%7C37.5,-87.5%7C37.5,-90%7C37.5,-92.5%7C37.5,-95
%7C37.5,-97.5%7C37.5,-100%7C37.5,-102.5%7C37.5,-105%7C37.5,-107.5%7C37.5,-110%7C37.5,-112.5%7C37.5,-115%7C37.5,-120%7C37.5,-122.5
%7C40,-75%7C40,-77.5%7C40,-80%7C40,-82.5%7C40,-85%7C40,-87.5%7C40,-90%7C40,-92.5%7C40,-95%7C40,-97.5%7C40,-100%7C40,-102.5
%7C40,-105%7C40,-107.5%7C40,-110%7C40,-112.5%7C40,-115%7C40,-117.5%7C40,-122.5%7C42.5,-72.5%7C42.5,-75%7C42.5,-77.5%7C42.5,-85
%7C42.5,-87.5%7C42.5,-90%7C42.5,-92.5%7C42.5,-95%7C42.5,-97.5%7C42.5,-100%7C42.5,-102.5%7C42.5,-105%7C42.5,-107.5%7C42.5,-110
%7C42.5,-112.5%7C42.5,-115%7C42.5,-117.5%7C42.5,-120%7C42.5,-122.5%7C45,-70%7C45,-72.5%7C45,-85%7C45,-87.5%7C45,-90%7C45,-92.5
%7C45,-95%7C45,-97.5%7C45,-100%7C45,-102.5%7C45,-105%7C45,-107.5%7C45,-110%7C45,-112.5%7C45,-115%7C45,-120%7C45,-122.5%7C47.5,-92.5
%7C47.5,-95%7C47.5,-100%7C47.5,-102.5%7C47.5,-105%7C47.5,-107.5%7C47.5,-110%7C47.5,-112.5%7C47.5,-117.5%7C47.5,-120%7C47.5,-122.5
&key=AIzaSyChX4MAbCoF-PSySnmHayITNQvKaE8Nutw" />

				<p>The google map shows the location of the sample points. Next question is: Where would we get the data?</p>
				</div>

				<div id = "webCrawl">

					<h3>Web Crawling </h3>
					<p> From the algorithm developed, it occurs to our team that we would need data including concentration of pollutants, elevation of a sample point, direction and magnitude of wind in order to generate the coefficients required to calculate the emission of pollutants of every sample point. In order to obtain reliable data, we first looked into governmental databases. The governmental data sources that we decided to use include: </p>

					<ul>
						<li> EPA -- The Environmental Protection Agency produces extremely fine datapoints for all their pollutants. There are hourly, daily and yearly summaries of each pollutant. For Polldentify, we decided to limit our scope to only five pollutants -- Ozone, Sulphur Dioxide, Nitrogen Dioxide, Carbon Monoxide and PM10. The first four pollutants are the parameters used to measure the AQI of the US, and PM10 concentrations are generally a concern because it reduces visibility and can irritate the eyes and the respiratory system.</li>

						<li>NOAA -- The National Oceanic and Atmospheric Administration records direction and magnitude of wind every day and summarizes their data in a daily, monthly and yearly basis. We took the monthly wind direction for our calculations.</li>
					</ul>

					<p>However, we realize that governmental data is not sufficient. First, the aforementioned agencies only update their databases once every six months, hence we would not be able to take the real time concentration of pollutant directly. Secondly, there is neither formal nor convenient record that relates latitude and longitude with elevation and state. Therefore, we used Google Elevation API and Google Geocoding API to obtain the elevation and state at each sampling latitude and longitude. </p>

					<p>All web crawling code is written in Python (except for NOAA wind data, where we used MATLAB to open nc files and store it into csv). For EPA, we can send URL requests directly to the EPA, unzip and download their files, as for Google related services, we requested different API keys in order to obtain different services. </p>

				</div>

				<div id = "organize">
					<h3>Organizing the Data </h3>
					<p> The data is especially hard to organize because the data set itself is extremely huge! We have more than 20,000 rows and 100,000 data points! However, by utilizing PySpark -- a Python-compatible big data processing platform -- and Pandas, we could organize our data elegantly. PySpark is built for the generic RDD (Resilient Distributed Dataset) processing, while a dataframe has in-built metadata (because it is in a table format) and one could query through the table easily. We successfully save all the aforementioned data first as their respective csv and then concatenate them to one major dataframe. </p>

					<p><img src = "Polldentify/dataframe.png" /></p>
				</div>

				<div id = "algorithm">

					<h3>Developing the algorithm </h3>
					<p> When formulating our algorithm, we first go online to see what most government agencies use to predict the flow of pollution within a city. In our search, the most relevant equation is the Gaussian Dispersion Equation, which is as follow:  </p>

					<p><img src = "https://upload.wikimedia.org/math/3/0/c/30c399a65f6756ae810de5fc789f09dc.png", alt = "gaussian dispersion equation" /></p>

					<p>The concrete description of the variables could be found <a href = "https://en.wikipedia.org/wiki/Atmospheric_dispersion_modeling#Gaussian_air_pollutant_dispersion_equation">here</a>. In short, the equation essentially shows a linear relationship between concentration of pollutants (C) and rate of emission of pollutants from source (Q). </p>

					<p><img src = "Polldentify/one_source.png" /></p>

					<p>Since the relationship is linear, we could impose the superposition principle and infer that the concentration at a city A can be expressed as a summation of rate of emission of pollutants from other cities, and the coefficients that is multiplied to the rate of emission can be determined by the geographical locations and wind data on a certain day, which would be: </p>

					<p><img src = "Polldentify/more_source.png" /></p>

					<p> Our algorithm builds upon the linearity between concentration of pollutants and rate of emission of pollutants and draws a matrix for each date that we have (in our case, since our data is monthly, we are also calculating a monthly average of sources of pollutants.</p>

					<p><img src = "Polldentify/all_source.png" /></p>



				</div>

			</div>
		</div>



	</div>

	<div id = "footer"></div>
	<script>
			$(function(){
		  	  	$("#header").load("../header.html");
		  	  	$("#menu").load("projects_menu.html");
		  	  	$("#menu.index").addClass("active");
		  	  	$("#footer").load("../footer.html");

			});
  		</script>

</body>

</html>
